{# src/OC/PlatformBundle/Resources/views/Advert/index.html.twig #}

{% extends "OCPlatformBundle::layout.html.twig" %}
{% block title %} Accueil - {{ parent() }}{% endblock %}

{% block ocplatform_body %}


  <div class="row">
   <div class="col-xs-12">
    <h2>Liste des annonces</h2>


    <ul>

      {% for advert in listAdverts %}

        <li>

          <a href="{{ path('oc_platform_view', {'id': advert.id}) }}">

            {{ advert.title }}

          </a>

          par {{ advert.author }},

          le {{ advert.date|date('d/m/Y') }}


        </li>

      {% else %}

        <li>Pas (encore !) d'annonces</li>

      {% endfor %}

    </ul>
   </div>
  </div>

<div class="row">

  <div class="col-xs-3">{% if page > 1 %}
   <a href="{{ path('oc_platform_home') }}/{{ page - 1 }}"  style="margin:20px 0" class="btn btn-default">Page Précédente</a>
   {% endif %}</div>
  <div class="col-xs-3 center-block">
   <ul class="pagination" style="padding-left:20%">
   {# On utilise la fonction range(a, b) qui crée un tableau de valeurs entre a et b #}
   {% for p in range(1, nbPages) %}
     <li{% if p == page %} class="active"{% endif %}>
       <a href="{{ path('oc_platform_home', {'page': p}) }}">{{ p }}</a>
     </li>
   {% endfor %}
   </ul>
  </div>
<div class="col-xs-3">{% if page < nbPages %}
 <a href="{{ path('oc_platform_home') }}/{{ page + 1 }}"  style="margin:20px 0" class="btn btn-default pull-right">Page suivante</a>
 {% endif %}</div>

</div>


{% endblock %}
